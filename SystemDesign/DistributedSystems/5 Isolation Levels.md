# Isolation Levels

- Define what anomalies are prevented in concurrent transactions.
- Stronger isolation levels prevent more anomalies but reduce performance.
- Common Isolation Levels -
  - Serializability - concurrent transactions give same result as sequential execution.
  - Repeatable Read - data read once by a transaction does not change during the transaction.
  - Snapshot Isolation - all reads see a consistent snapshot. Transaction commits if no other transaction updated same data.
  - Read Committed - prevents reading uncommitted data from other transactions.
  - Read Uncommitted - lowest level. Allows reading uncommitted data.
- Anomalies -
  - Dirty Write -
    - Overwriting uncommitted data from another transaction.
    - Can violate integrity constraints.
    - Example - concurrent updates to `x` and `y` produce inconsistent state.
  - Dirty Read -
    - Reading uncommitted data from another transaction.
    - May act on values that get rolled back.
    - Example - bank transfer example where a read sees partial transfer.
  - Non-Repeatable (Fuzzy) Read -
    - Reading the same data twice in a transaction yields different results.
    - Example - conditional logic based on initial read acts on stale data.
  - Phantom Read -
    - Predicate-based read sees new or deleted rows inserted/removed by another transaction.
    - Example - average/max queries affected by concurrent inserts.
  - Lost Update -
    - Two transactions read same value and update it.
    - One update overwrites the other.
    - Example - warehouse inventory miscount due to concurrent updates.
  - Read Skew -
    - Partial view of related data items violates integrity constraints.
    - Example - mutual friendships not reflected consistently across reads.
  - Write Skew -
    - Two transactions read same data and update disjoint sets.
    - Results in inconsistent state.
    - Example - hospital on-call rotation leads to no doctors on-call.
